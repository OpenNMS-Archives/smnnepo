<features xmlns="http://karaf.apache.org/xmlns/features/v1.0.0" name="opennms-sampler-1.13.1-SNAPSHOT">    
    <!-- OpenNMS features -->
    <repository>mvn:org.opennms.karaf/opennms/1.13.1-SNAPSHOT/xml/features</repository>

    <!-- camel features -->
    <repository>mvn:org.apache.camel.karaf/apache-camel/2.12.3/xml/features</repository>
    
    <!--  activemq features -->
    <repository>mvn:org.apache.activemq/activemq-karaf/5.9.0/xml/features</repository>

    <!-- CXF features -->
    <!--<repository>mvn:org.apache.cxf.karaf/apache-cxf/2.7.7/xml/features</repository>-->

    <!-- Sampler features -->

    <!-- API feature -->
    <feature name="sample-api" description="Sample Collection and Storage :: API" version="1.13.1-SNAPSHOT">
      <bundle dependency="true">mvn:commons-codec/commons-codec/1.7</bundle>
      <feature>camel-core</feature>
      <feature>opennms-core</feature>
      <feature>opennms-config-jaxb</feature>
      <bundle>mvn:org.opennms.netmgt.sample/sample-api/1.13.1-SNAPSHOT</bundle>
    </feature>

    <!-- Config features -->
    <feature name="sampler-config" description="Sample Collection and Storage :: Configuration" version="1.13.1-SNAPSHOT">
      <feature>camel-blueprint</feature>
      <feature>camel-http</feature>
      <feature>camel-jaxb</feature>
      <feature>sample-api</feature>
      <bundle>mvn:org.opennms.core/org.opennms.core.camel/1.13.1-SNAPSHOT</bundle>
      <bundle>mvn:org.opennms.netmgt.sample/sampler-config/1.13.1-SNAPSHOT</bundle>
    </feature>

    <feature name="sampler-config-snmp" description="Sample Collection and Storage :: SNMP Configuration" version="1.13.1-SNAPSHOT">
      <feature>camel-blueprint</feature>
      <feature>camel-jaxb</feature>
      <feature>camel-http</feature>
      <feature>opennms-snmp</feature>
      <feature>sample-api</feature>
      <bundle dependency="true">mvn:commons-codec/commons-codec/1.7</bundle>
      <bundle>mvn:org.opennms.core/org.opennms.core.camel/1.13.1-SNAPSHOT</bundle>
      <bundle>mvn:org.opennms.netmgt.sample/sampler-config-snmp/1.13.1-SNAPSHOT</bundle>
    </feature>

    <!-- Scheduler -->
    <feature name="sampler-scheduler" description="Sample Collection and Storage :: Scheduler" version="1.13.1-SNAPSHOT">
      <feature>camel-blueprint</feature>
      <feature>sample-api</feature>
      <bundle>mvn:org.opennms.netmgt.sample/sampler-scheduler/1.13.1-SNAPSHOT</bundle>
    </feature>

    <!-- Sampler -->
    <feature name="sampler-snmp" description="Sample Collection and Storage :: SNMP Collector" version="1.13.1-SNAPSHOT">
      <feature>camel-blueprint</feature>
      <feature>opennms-snmp</feature>
      <feature>sample-api</feature>
      <feature>sampler-config-snmp</feature>
      <bundle>mvn:org.opennms.netmgt.sample/sampler-snmp/1.13.1-SNAPSHOT</bundle>
    </feature>

    <!-- Cassandra sampler storage and graphing features-->
    <feature name="cassandra-driver" description="Sample Collection and Storage :: Cassandra Driver" version="1.13.1-SNAPSHOT">
      <bundle dependency="true">mvn:commons-cli/commons-cli/1.2</bundle>
      <bundle dependency="true">mvn:commons-lang/commons-lang/2.6</bundle>
      <bundle dependency="true">mvn:joda-time/joda-time/2.2</bundle>
      <bundle dependency="true">mvn:org.xerial.snappy/snappy-java/1.0.5-M3</bundle>
      <bundle>mvn:org.opennms.netmgt.sample/cassandra-driver/1.0.0-beta1</bundle>
    </feature>

    <feature name="sample-storage-cassandra" description="Sample Collection and Storage :: Cassandra" version="1.13.1-SNAPSHOT">
      <feature>sample-api</feature>
      <feature>cassandra-driver</feature>
      <bundle>mvn:org.opennms.netmgt.sample/sample-storage-cassandra/1.13.1-SNAPSHOT</bundle>
    </feature>

    <feature name="sample-graphs" description="Sample Collection and Storage :: Graphing" version="1.13.1-SNAPSHOT">
      <feature>sample-api</feature>
      <feature>sample-config-snmp</feature>
      <feature>http-whiteboard</feature>
      <feature>cxf-jaxrs</feature>
      <bundle>mvn:org.opennms.netmgt.sample/sample-graphs/1.13.1-SNAPSHOT</bundle>
    </feature>

    <!-- File sample storage -->
    <feature name="sample-storage-file" description="Sample Collection and Storage :: File Storage" version="1.13.1-SNAPSHOT">
      <configfile override="true" finalname="/etc/blueprint-file-storage.xml">mvn:org.opennms.netmgt.sample/sampler-routes/1.13.1-SNAPSHOT/xml/file-storage</configfile>
      <feature>sample-api</feature>
      <bundle>blueprint:file:etc/blueprint-file-storage.xml</bundle>
    </feature>

    <!-- ActiveMQ sample dispatcher -->
    <feature name="sample-dispatch-activemq" description="Sample Collection and Storage :: ActiveMQ Dispatcher" version="1.13.1-SNAPSHOT">
      <configfile override="true" finalname="/etc/blueprint-activemq-dispatch.xml">mvn:org.opennms.netmgt.sample/sampler-routes/1.13.1-SNAPSHOT/xml/activemq-dispatch</configfile>
      <feature>sample-api</feature>
      <feature>activemq-camel</feature>
      <bundle>blueprint:file:etc/blueprint-activemq-dispatch.xml</bundle>
    </feature>

    <!-- ActiveMQ sample receiver -->
    <feature name="sample-receiver-activemq" description="Sample Collection and Storage :: ActiveMQ Receiver" version="1.13.1-SNAPSHOT">
      <configfile override="true" finalname="/etc/blueprint-activemq-receiver.xml">mvn:org.opennms.netmgt.sample/sampler-routes/1.13.1-SNAPSHOT/xml/activemq-receiver</configfile>
      <feature>sample-api</feature>
      <feature>activemq-camel</feature>
      <bundle>blueprint:file:etc/blueprint-activemq-receiver.xml</bundle>
    </feature>

    <!-- Integration features -->

    <feature name="sampler-with-file-storage" description="Sample Collection and Storage :: Integration :: Sampler with file storage" version="1.13.1-SNAPSHOT">
      <feature>camel-blueprint</feature>
      <!-- Pull in the collection configurations -->
      <feature>sampler-config</feature>
      <!-- Provide a scheduler to execute the sampler tasks -->
      <feature>sampler-scheduler</feature>
      <!-- Provide an SNMP sampler implementation -->
      <feature>sampler-snmp</feature>
      <!-- TODO Provide a JMX sampler implementation -->
      <!-- <feature>sampler-jmx</feature> -->
      <!-- Store samples in a file -->
      <feature>sample-storage-file</feature>
    </feature>

    <feature name="sampler-with-activemq-export" description="Sample Collection and Storage :: Integration :: Sampler with ActiveMQ export" version="1.13.1-SNAPSHOT">
      <feature>camel-blueprint</feature>
      <!-- Pull in the collection configurations -->
      <feature>sampler-config</feature>
      <!-- Provide a scheduler to execute the sampler tasks -->
      <feature>sampler-scheduler</feature>
      <!-- Provide an SNMP sampler implementation -->
      <feature>sampler-snmp</feature>
      <!-- TODO Provide a JMX sampler implementation -->
      <!-- <feature>sampler-jmx</feature> -->
      <!-- Export samples over ActiveMQ -->
      <feature>sample-dispatch-activemq</feature>
    </feature>

</features>
